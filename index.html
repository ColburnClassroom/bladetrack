<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BladeTrack Web App v1.28</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 700px; margin: auto; }
    button, input, label, select { margin: 10px 0; padding: 12px; font-size: 16px; }
    .hot-warning { color: orange; font-weight: bold; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; font-size: 14px; text-align: center; }
    th { background-color: #f9f9f9; }
    .checkboxes { margin: 10px 0; }
    .checkboxes label { display: block; font-size: 16px; }
    #map { height: 300px; margin: 20px 0; }
    .food-button { display: block; width: 100%; margin: 5px 0; padding: 10px; font-size: 14px; border-radius: 5px; border: none; text-align: left; cursor: pointer; }
    .green { background-color: #e0f7e9; border-left: 5px solid green; }
    .yellow { background-color: #fff9e6; border-left: 5px solid orange; }
    .red { background-color: #fdecea; border-left: 5px solid red; }
  </style>
</head>
<body>

<h2>BladeTrack Web App v1.28</h2>
<p>Track your calories, macros, rollerblading sessions, and weight loss progress.</p>

<p>Weight (lbs): <input type="number" id="weight" value="175"></p>
<p>Height: <input type="number" id="heightFeet" value="5"> ft <input type="number" id="heightInches" value="10"> in</p>
<label>Gender:
  <select id="gender">
    <option value="male">Male</option>
    <option value="female">Female</option>
    <option value="nonbinary">Nonbinary</option>
  </select>
</label>
<p>Daily Calorie Goal (kcal): <input type="number" id="calorieGoal" value="1500"></p>
<p>Weight Loss Goal (lbs per week): <input type="number" id="weeklyLossGoal" value="2"></p>

<h3>Meal Tracking</h3>
<div id="mealLog"></div>

<h3>Snacks (Unhealthy Choices)</h3>
<div id="snacks"></div>

<h3>Rollerblading Session Tracker</h3>
<button onclick="startSession()">Start Session</button>
<button onclick="stopSession()">Stop Session</button>
<div id="weather"></div>
<div id="warning" class="hot-warning"></div>
<div class="checkboxes" id="checklist" style="display:none;">
  <label><input type="checkbox" id="drankWater"> Drank water</label>
  <label><input type="checkbox" id="ateBanana"> Ate banana</label>
  <label><input type="checkbox" id="ateSaltyFood"> Ate salty food</label>
  <button onclick="saveChecklist()">✔️ Save Session</button>
</div>
<div id="result"></div>
<div id="map"></div>

<h3>Weight Tracking & Progress</h3>
<p>Log Today's Weight (lbs): <input type="number" id="dailyWeight"><button onclick="logWeight()">Log Weight</button></p>
<canvas id="weight-progress-chart" width="600" height="200"></canvas>
<div id="weightLog"></div>

<h3>Food Log Summary</h3>
<div id="foodLog"></div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
function logFood(food) {
  alert(`You selected: ${food.name}\nCalories: ${food.calories} kcal\nProtein: ${food.protein}g\nCarbs: ${food.carbs}g\nFat: ${food.fat}g`);
}

const foodItems = [
  { name: "Banana Baby Food", calories: 100, protein: 1, carbs: 22, fat: 0, meal: "breakfast", color: "green", description: "Easy digesting carb for quick energy." },
  { name: "Smooth Peanut Butter (1 tsp)", calories: 32, protein: 1.5, carbs: 1, fat: 3, meal: "breakfast", color: "yellow", description: "High in fat, use sparingly." },
  { name: "Whey Protein Isolate", calories: 110, protein: 25, carbs: 1, fat: 0, meal: "breakfast", color: "green", description: "High protein, quick absorption." },
  { name: "Whey Protein Isolate", calories: 110, protein: 25, carbs: 1, fat: 0, meal: "lunch", color: "green", description: "High protein, quick absorption." },
  { name: "Plain Nonfat Yogurt (1 cup)", calories: 100, protein: 10, carbs: 12, fat: 0, meal: "breakfast", color: "green", description: "Low-calorie source of protein and calcium." },
  { name: "Tofu (102.5g)", calories: 200, protein: 22, carbs: 4, fat: 12, meal: "breakfast", color: "green", description: "Good plant protein and fat source." },
  { name: "Salmon (6 oz)", calories: 367, protein: 34, carbs: 0, fat: 23, meal: "lunch", color: "green", description: "Rich in protein and omega-3s. Very filling." },
  { name: "Salmon (6 oz)", calories: 367, protein: 34, carbs: 0, fat: 23, meal: "dinner", color: "green", description: "Rich in protein and omega-3s. Very filling." },
  { name: "Chicken Breast (6 oz)", calories: 276, protein: 52, carbs: 0, fat: 6, meal: "lunch", color: "green", description: "Lean protein source, very filling." },
  { name: "Chicken Breast (6 oz)", calories: 276, protein: 52, carbs: 0, fat: 6, meal: "dinner", color: "green", description: "Lean protein source, very filling." },
  { name: "Mixed Nuts (20 pcs total)", calories: 140, protein: 5, carbs: 5, fat: 12, meal: "breakfast", color: "yellow", description: "Pistachios, almonds, cashews, walnuts. Healthy fats." },
  { name: "Mixed Nuts (20 pcs total)", calories: 140, protein: 5, carbs: 5, fat: 12, meal: "lunch", color: "yellow", description: "Pistachios, almonds, cashews, walnuts. Healthy fats." },
  { name: "Mixed Nuts (20 pcs total)", calories: 140, protein: 5, carbs: 5, fat: 12, meal: "dinner", color: "yellow", description: "Pistachios, almonds, cashews, walnuts. Healthy fats." },
  { name: "Collard Greens (1 cup)", calories: 63, protein: 5, carbs: 11, fat: 1, meal: "lunch", color: "green", description: "Leafy greens with fiber, vitamin K, calcium." },
  { name: "Popcorn (bag)", calories: 160, protein: 2, carbs: 18, fat: 10, meal: "snack", color: "red", description: "Low sodium. Not a good electrolyte source." },
  { name: "Potato Chips", calories: 150, protein: 2, carbs: 15, fat: 10, meal: "snack", color: "red", description: "Not a good sodium source for rehydration." },
  { name: "Gummy Worms", calories: 140, protein: 1, carbs: 30, fat: 0, meal: "snack", color: "red", description: "Sugar high. No satiety. Not nutritious." },
  { name: "Candy Bar", calories: 250, protein: 3, carbs: 28, fat: 12, meal: "snack", color: "red", description: "Quick sugar hit. Not filling or healthy." }
];

function renderFoods() {
  const mealLog = document.getElementById("mealLog");
  const snacks = document.getElementById("snacks");
  mealLog.innerHTML = "";
  snacks.innerHTML = "";
  const mealSections = ["breakfast", "lunch", "dinner"];
  mealSections.forEach(meal => {
    const section = document.createElement("div");
    section.innerHTML = `<h4>${meal.charAt(0).toUpperCase() + meal.slice(1)}</h4>`;
    foodItems.filter(f => f.meal === meal).forEach(f => {
      const btn = document.createElement("button");
      btn.className = `food-button ${f.color}`;
      btn.innerText = `${f.name} — ${f.calories} kcal\n${f.description}`;
      btn.onclick = () => logFood(f);
      section.appendChild(btn);
    });
    mealLog.appendChild(section);
  });
  foodItems.filter(f => f.meal === "snack").forEach(f => {
    const btn = document.createElement("button");
    btn.className = `food-button ${f.color}`;
    btn.innerText = `${f.name} — ${f.calories} kcal\n${f.description}`;
    btn.onclick = () => logFood(f);
    snacks.appendChild(btn);
  });
}
window.onload = renderFoods;
</script>
<script>
function initMap() {
  const unionSquare = { lat: 40.7359, lng: -73.9911 };
  const map = new google.maps.Map(document.getElementById("map"), {
    zoom: 15,
    center: unionSquare
  });
  new google.maps.Marker({ position: unionSquare, map: map });
}
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDNyTZL3SySu9n5tkcyc9fiU34d2iviE9E&callback=initMap" async defer></script>
</body>
</html>
